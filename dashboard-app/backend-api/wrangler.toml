name = "backend-api"
main = "src/index.ts"
compatibility_date = "2024-03-20"
compatibility_flags = ["nodejs_compat"]

# KV Namespace for session storage
kv_namespaces = [
  { binding = "SESSION_STORE", id = "d6227a87d32c4faca727af857f22a4fe" }
]

# PostgreSQL Database
[[postgres_database]]
name = "DB"
url = "${DATABASE_URL}"  # This will be replaced with the actual URL from environment variables

[vars]
# Environment variables will be set in Cloudflare dashboard
NODE_ENV = "production"

# Use the free tier
workers_dev = true

[env.development]
workers_dev = true 